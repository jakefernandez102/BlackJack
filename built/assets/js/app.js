(()=>{"use strict";const e=document.querySelector(".field"),t=document.querySelector(".header"),l=document.querySelector("#btn-newGame"),n=document.querySelector("#btn-askCard"),r=document.querySelector("#btn-stop"),o=document.querySelector("#btn-2Players"),d=document.querySelector("#btn-3Players"),s=document.querySelector("#btn-4Players");let c=[],i=["C","D","H","S"],a=["A","J","Q","K"],u=[],m=0;document.addEventListener("DOMContentLoaded",(()=>{C(),y(),o.addEventListener("click",(()=>{h(),C(3),y(2)})),d.addEventListener("click",(()=>{h(),C(4),y(3)})),s.addEventListener("click",(()=>{h(),C(5),y(4)}))}));const h=()=>{for(;e.firstChild;)e.removeChild(e.firstChild)};l.addEventListener("click",(()=>{o.disabled=!1,d.disabled=!1,s.disabled=!1,n.disabled=!1,r.disabled=!1,P(),h(),y()})),n.addEventListener("click",(()=>{console.log(u),o.disabled=!0,d.disabled=!0,s.disabled=!0;let e=g();L(v(),e)})),r.addEventListener("click",(()=>{n.disabled=!0,r.disabled=!0,A(u[0])}));const g=()=>(console.log("Turno giveTurn",m),f(m),m>=u.length-1?m=0:m>=0?m++:m),f=e=>{console.log({turn:e});const t=document.querySelectorAll(".cardField > h1");console.log(t[u.length-2]),t[e].style.color="yellow",e>0&&(t[e-1].style.color="white"),0===e&&(t[u.length-2].style.color="white")},C=(e=2)=>{c=p(),u=[];for(let t=0;t<e;t++)u.push(0);console.log(u)},y=(t=1)=>{for(let l=0;l<t;l++){const t=document.createElement("DIV");t.classList.add("row","container-fluid"),t.innerHTML=`\n                <div class="col cardField">\n                    <h1>Player ${l+1}: <small id="playerScore">0</small></h1>\n                    <div id="player-cards" class="divCards">\n    \n                    </div>\n                </div>\n            `,e.appendChild(t)}const l=document.createElement("DIV");l.classList.add("row","container-fluid"),l.innerHTML='\n            <div class="col cardField">\n                <h1>CPU: <small id="cpuScore">0</small></h1>\n                <div id="cpu-cards" class="divCards">\n\n                </div>\n            </div>\n        ',e.appendChild(l)},p=()=>{for(let e=2;e<=10;e++)for(const t of i)c.push(e+t);for(const e of i)for(const t of a)c.push(t+e);return _.shuffle(c)},v=()=>{if(0===c.length)throw"There are no more cards";return c.pop()},b=e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?S(t):10:1*t},S=(e=1)=>confirm("Value for A: 11 -> confirm or 1 -> cancel")?11:1,L=(e,t)=>{m===u.length-1&&(m=0),console.log({turn:t});const l=document.querySelectorAll("small");u[t]+=b(e),E(u[t],t),l[t].textContent=u[t],q(e,t)},q=(e,t)=>{const l=document.querySelectorAll(".divCards"),n=document.createElement("img");n.classList.add("carta"),n.src=`assets/img/${e}.png`,l[t].appendChild(n)},E=(e,t)=>{(e>21||21===e)&&(n.disabled=!0,r.disabled=!0,A(e,t))},x=(e,t)=>{const l=document.querySelectorAll("small");return u[t]+=b(e),l[t].textContent=u[t],u[t]},w=(e,t)=>{const l=document.querySelectorAll(".divCards"),n=document.createElement("img");n.classList.add("carta"),n.src=`assets/img/${e}.png`,console.log({turn:t}),l[t].appendChild(n)},A=(e,t)=>{let l=0;do{let e=v();l=x(e,u.length-1),w(e,u.length-1)}while(l<e&&e<=21);T(l,e,t)},k=(e,l="")=>{const n=document.createElement("p");return"error"==l?(n.classList.add("p-4","bg-danger","text-center","text-light"),n.textContent=e):"tie"===l?(n.classList.add("p-4","bg-warning","text-center","text-light"),n.textContent=e):(n.classList.add("p-4","bg-success","text-center","text-light"),n.textContent=e),setTimeout((()=>{n.remove()}),3e3),t.appendChild(n)},P=()=>{const e=document.querySelectorAll("small"),t=document.querySelectorAll(".divCards");e.forEach((e=>e.textContent=0)),C();for(const e in t){for(;t[e].firstChild;)t[e].removeChild(t[e].firstChild);for(;t[e].firstChild;)t[e].removeChild(t[e].firstChild)}},T=(e,t,l)=>21===t&&21===e?k("Is a tie!!!","tie"):t>21||21===e||e>t&&e<21||t===e||t===e?k(`Player ${l+1} You loose!!!`,"error"):e>21||t<21&&e>21?k(`Player ${l+1} You win!!!`):void 0})();
//# sourceMappingURL=app.js.map
